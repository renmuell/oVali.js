{"version":3,"sources":["oVali.js"],"names":["e","exports","module","define","amd","f","window","global","self","oVali","t","n","r","s","o","u","a","require","i","Error","call","length","1","_dereq_","Array","prototype","flatten","Object","defineProperty","value","this","TypeError","reduce","result","current","concat","isArray","configurable","writable","TYPES","LITERALS","_oVali","schemas","object","string","number","boolean","array","undefined","getType","addSchema","name","definition","getSchemaWithoutOptional","substr","getSchemaWithoutSubSchema","indexOf","getSchemaSubSchema","getSchema","isSchemaOptional","isSchemaWithSubSchema","checkSubSchemaInner","schema","options","checkArray","check","checkSubSchema","keys","map","key","filter","error","getExtraProperties","includes","checkExtraProperties","showExtraProperties","type","extraProperty","expected","actual","getSchemaOptional","showMissingOptionals","optionalNotIn","getSchemaOptionals","message","getSchemaError","shownotContain","notContain","shouldBe","getSchemaErrors","getSchemaCorrect","showCorrect","correct","checkSchema","findPropertiesWithPattern","pattern","getPropertiesWithPattern","getPropertyWithPattern","propertyWith","checkFlatArrayCorrects","index","checkFlatArrayErrors","checkFlatArray","checkFatArray","apply","item","checkSubSchemaArray","schemaOrType","isValid"],"mappings":"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","file":"oVali-min.js","sourcesContent":["!function(e){if(\"object\"==typeof exports)module.exports=e();else if(\"function\"==typeof define&&define.amd)define(e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.oVali=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n/**\n * _oVali.js\n *\n * @author Rene MÃ¼ller <rene.mueller.md@gmail.com>\n */\n\n/*global module */\n\nif (!Array.prototype.flatten) {\n    Object.defineProperty(Array.prototype, 'flatten', {\n        value: function() {\n\n        if (this == null) {\n            throw new TypeError('\"this\" is null or not defined');\n        }\n\n        return Object(this).reduce(function (result, current) {\n            return result.concat(Array.isArray(current) ? current.flatten() : current);\n        }, []);\n        },\n        configurable: true,\n        writable: true\n    });\n}\n\nvar oVali = (function(){\n\n    /**\n     *  \n     * @private\n     */\n    var TYPES = {\n        correct         : \"correct\",\n        propertyWith    : \"propertyWith\",\n        shouldBe        : \"shouldBe\",\n        notContain      : \"notContain\",\n        optionalNotIn   : \"optionalNotIn\",\n        extraProperty   : \"extraProperty\"\n    };\n\n    var LITERALS = [\n        \"number\",\n        \"string\",\n        \"object\",\n        \"array\",\n        \"boolean\",\n        \"undefined\"\n    ];\n\n    /**\n     *  \n     * @private\n     */\n    var _oVali = {\n\n        /**\n         *  \n         * @private\n         */\n        schemas: {},\n\n        /* type */\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        object  : function (value) { return typeof value === \"object\";  },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        string  : function (value) { return typeof value === \"string\";  },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        number  : function (value) { return typeof value === \"number\";  },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        boolean : function (value) { return typeof value === \"boolean\"; },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        array   : function (value) { return Array.isArray(value);       },\n\n        /**\n         * \n         * @private\n         * @param {*} value \n         */\n        undefined: function (value) { return typeof value === \"undefined\"; },\n\n        /**\n         * \n         * @private\n         * @param {*} object \n         */\n        getType: function (object) {\n            return _oVali.undefined(object) ? \"undefined\" \n                : _oVali.array(object)      ? \"array\"\n                : _oVali.boolean(object)    ? \"boolean\"\n                : _oVali.number(object)     ? \"number\"\n                : _oVali.string(object)     ? \"string\"\n                : _oVali.object(object)     ? \"object\"\n                : \"?\";\n        },\n\n        /* schema add/is/get */\n\n        /**\n         *  \n         * @private\n         * @param {*} name \n         * @param {*} definition \n         */\n        addSchema: function (name, definition) { \n            return _oVali.schemas[name] = definition;\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        getSchemaWithoutOptional: function (value) { \n            return value[0] === \"?\" ? value.substr(1) : value;\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        getSchemaWithoutSubSchema: function (value) { \n            return value.indexOf(\"/\") > -1 ? value.substr(0, value.indexOf(\"/\")) : value;\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        getSchemaSubSchema: function (value) { \n            return value.indexOf(\"/\") > -1 ? value.substr(value.indexOf(\"/\") + 1) : value;\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        getSchema: function (value) { \n            return _oVali.getSchemaWithoutOptional(\n                    _oVali.getSchemaWithoutSubSchema(\n                        value));\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        isSchemaOptional: function (value) { return value[0] === '?'; },\n\n        /**\n         *  \n         * @private\n         * @param {*} value \n         */\n        isSchemaWithSubSchema: function (value) { return value.indexOf(\"/\") > -1; },\n\n        /* sub-schema */\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} options \n         */\n        checkSubSchemaInner: function (object, schema, options){ \n            return (_oVali.schemas[schema])\n                    ? _oVali.array(object)\n                        ? _oVali.checkArray(object, _oVali.schemas[schema], options)\n                        : _oVali.check(object, _oVali.schemas[schema], options)\n                    : _oVali.checkArray(object, schema, options);\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} options \n         */\n        checkSubSchema: function (object, schema, options) {\n            return Object\n                    .keys(schema)\n                    .map(function (key) { \n                        return (_oVali.isSchemaWithSubSchema(schema[key]) && object[key])\n                                ? _oVali.checkSubSchemaInner(\n                                    object[key], \n                                    _oVali.getSchemaSubSchema(schema[key]), \n                                    options)\n                                : undefined;})\n                    .flatten()\n                    .filter(function (error) { return error !== undefined;});\n        },\n\n        /* extra property */\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         */\n        getExtraProperties: function (object, schema) {\n            return Object\n                    .keys(object)\n                    .filter(function (key) { return !Object.keys(schema).includes(key);});\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} options \n         */\n        checkExtraProperties: function (object, schema, options) { \n            return typeof options.showExtraProperties !== \"undefined\" \n                        && !options.showExtraProperties\n                    ? []\n                    : _oVali\n                        .getExtraProperties(object, schema)\n                        .map(function (key) { \n                            return ({ \n                                type: TYPES.extraProperty, \n                                key:key, \n                                object:object, \n                                value:object[key], \n                                schema: schema,\n                                expected: undefined,\n                                actual: _oVali.getType(object[key])\n                            });\n                        });\n        },\n\n        /* optionals */\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} key \n         * @param {*} schema \n         * @param {*} options \n         */\n        getSchemaOptional: function (object, key, schema, options) { \n            return (typeof object[key] === \"undefined\") \n                    && (typeof options.showMissingOptionals !== \"undefined\" \n                        && options.showMissingOptionals)\n                    && _oVali.isSchemaOptional(schema[key])\n                    ? { \n                        type:TYPES.optionalNotIn, \n                        key:key, \n                        value:undefined, \n                        object: object, \n                        schema: schema,\n                        expected: _oVali.getSchema(schema[key]),\n                        actual: undefined\n                    }\n                    : undefined;\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} options \n         */\n        getSchemaOptionals: function (object, schema, options) { \n            return Object\n                    .keys(schema)\n                    .map(function (key) { return _oVali.getSchemaOptional(object, key, schema, options);})\n                    .filter(function (message) { return message !== undefined;});\n        },\n\n        /* errors */\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} key \n         * @param {*} schema \n         * @param {*} options \n         */\n        getSchemaError: function (object, key, schema, options) {  \n            return (typeof object[key] === \"undefined\") \n                    ? !_oVali.isSchemaOptional(schema[key])\n                        ? typeof options.shownotContain === \"undefined\" \n                            || options.shownotContain\n                            ? { \n                                type: TYPES.notContain, \n                                object:object, \n                                value:undefined, \n                                key:key,\n                                schema:schema,\n                                expected: _oVali.getSchema(schema[key]),\n                                actual: undefined\n                            }\n                            : undefined\n                        : undefined\n                    : { \n                        type: TYPES.shouldBe, \n                        object:object, \n                        value:object[key], \n                        key:key, \n                        schema:schema,\n                        expected: _oVali.getSchema(schema[key]),\n                        actual: _oVali.getType(object[key])\n                    };\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} options \n         */\n        getSchemaErrors: function (object, schema, options) { \n            return Object\n                    .keys(schema)\n                    .filter(function (key) { return !_oVali[_oVali.getSchema(schema[key])](object[key]);})\n                    .map(function (key) { return _oVali.getSchemaError(object, key, schema, options);})\n                    .filter(function (message) { return message !== undefined;});\n        },\n\n        /* correct */\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} options \n         */\n        getSchemaCorrect: function (object, schema, options) { \n            return typeof options.showCorrect === \"undefined\" || !options.showCorrect \n                    ? []\n                    : Object\n                        .keys(schema)\n                        .filter(function (key) { return _oVali[_oVali.getSchema(schema[key])](object[key]);})\n                        .map(function (key) { \n                            return { \n                                type:TYPES.correct, \n                                key:key, \n                                value:object[key], \n                                object: object, \n                                schema: schema,\n                                expected: _oVali.getSchema(schema[key]),\n                                actual: _oVali.getType(object[key]) \n                            };\n                        });\n        },\n\n        /* check */\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} options \n         */\n        checkSchema: function (object, schema, options) {\n            return _oVali.getSchemaCorrect(object, schema, options)\n                    .concat(_oVali.getSchemaErrors(object, schema, options))\n                    .concat(_oVali.getSchemaOptionals(object, schema, options))\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} options \n         */\n        check: function (object, schema, options) {\n            return _oVali\n                    .checkSchema(object, schema, options||{})\n                    .concat(_oVali.checkExtraProperties(object, schema, options||{}))\n                    .concat(_oVali.checkSubSchema(object,schema, options||{}));\n        },\n\n        /* findPropertiesWithPattern */\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} pattern \n         */\n        findPropertiesWithPattern: function (object, schema, pattern) {\n            return _oVali.getPropertiesWithPattern(object, schema, pattern);\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} pattern \n         */\n        getPropertiesWithPattern: function (object, schema, pattern) { \n            return Object\n                    .keys(schema)\n                    .map(function (key) { \n                        return _oVali.getPropertyWithPattern(object, key, schema, pattern);\n                    })\n                    .filter(function (message) { return message !== undefined;});\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} object \n         * @param {*} key \n         * @param {*} schema \n         * @param {*} pattern \n         */\n        getPropertyWithPattern: function (object, key, schema, pattern) {\n            return ((typeof object[key] === \"string\") && (object[key].indexOf(pattern) > -1))\n                    ? { \n                        type: TYPES.propertyWith, \n                        object: object, \n                        value: object[key], \n                        key: key, \n                        schema: schema,\n                        pattern: pattern \n                    }\n                    : undefined;\n        },\n\n        /* check array */\n\n        /**\n         *  \n         * @private\n         * @param {*} array \n         * @param {*} type \n         * @param {*} options \n         */\n        checkFlatArrayCorrects: function (array, type, options) { \n            return typeof options.showCorrect === \"undefined\" || !options.showCorrect \n                    ? []\n                    : array\n                        .filter(function(value){ return _oVali[type](value);})\n                        .map(function(value, index){ \n                            return { \n                                type:TYPES.correct, \n                                key: index, \n                                value:value, \n                                object:array, \n                                schema: type,\n                                expected: type,\n                                actual: _oVali.getType(value) \n                            };\n                        });\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} array \n         * @param {*} type \n         */\n        checkFlatArrayErrors: function (array, type) {\n            return array\n                    .filter(function(value){ return !_oVali[type](value);})\n                    .map(function(value, index){ \n                        return { \n                            type:TYPES.shouldBe, \n                            key: index, \n                            value:value, \n                            object:array, \n                            schema: type,\n                            expected: type,\n                            actual: _oVali.getType(value) \n                        };\n                    });\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} array \n         * @param {*} type \n         * @param {*} options \n         */\n        checkFlatArray: function (array, type, options) {\n            return _oVali.checkFlatArrayCorrects(array, type, options)\n                    .concat(_oVali.checkFlatArrayErrors(array, type, options));\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} array \n         * @param {*} schema \n         * @param {*} options \n         */\n        checkFatArray: function (array, schema, options) { \n            return [].concat.apply([], \n                    array.map(function(item){ return _oVali.check(item, schema, options);}));\n        },\n\n        /**\n         *  \n         * @private\n         * @param {*} array \n         * @param {*} schema \n         * @param {*} options \n         */\n        checkSubSchemaArray: function (array, schema, options) {\n            return [].concat.apply([], \n                array.map(function(array){ \n                    return _oVali.checkArray(array, _oVali.getSchemaSubSchema(schema), options);\n                }))\n        },\n\n        /**\n         * \n         * @private\n         * @param {*} array \n         * @param {*} schemaOrType \n         * @param {*} options \n         */\n        checkArray: function (array, schemaOrType, options) {\n            return (typeof schemaOrType === \"string\")\n                    ? ((_oVali.isSchemaWithSubSchema(schemaOrType)) \n                        ? _oVali.checkSubSchemaArray(array, schemaOrType, options)\n                        : _oVali.checkFlatArray(array, schemaOrType, options))\n                    : _oVali.checkFatArray(array, schemaOrType, options);\n        }\n    };\n\n    var oVali = {\n\n        /**\n         * \n         * @public\n         */\n        TYPES:TYPES,\n\n        /**\n         *  Check object with schema.\n         * \n         *  @public\n         *  @param {object} object\n         *  @param {object} schema {\n         *    \"propertyName\": string -> \n         *      \"number\" , \"string\" , \"array\" , \"object\" , \"boolean\"                            //must exist\n         *      \"?number\", \"?string\", \"?array\", \"?object\", \"?boolean\"                           //optional\n         *      \"array/number\", \"array/string\", \"array/array\", \"array/object\", \"array/boolean\"  //sub-schema\n         *  }\n         *  @param {object} options {\n         *    showCorrect          : boolean:false\n         *    shownotContain       : boolean:true\n         *    showExtraProperties  : boolean:true\n         *    showMissingOptionals : boolean:false\n         *  } \n         *  \n         *  @return {array<object>} {\n         *    type: \"correct\"\n         *          \"notContain\"\n         *          \"shouldBe\"\n         *          \"propertyWith\"\n         *          \"optionalNotIn\"\n         *          \"extraProperty\",\n         *    value: mixed,\n         *    key: string\n         *    object: object/array\n         *    schema: string/object\n         *    pattern: string\n         *  }\n         */\n        check: function (object, schema, options) {\n            return _oVali.string(schema) && LITERALS.includes(schema)\n                ? _oVali.getType(object) === schema \n                    ? []\n                    : [{ \n                        type: TYPES.shouldBe, \n                        object:undefined, \n                        value:object, \n                        key:undefined, \n                        schema:schema,\n                        expected: _oVali.getSchema(schema),\n                        actual: _oVali.getType(object)\n                    }]\n                : (_oVali.array(object) \n                    ? ((_oVali.schemas[_oVali.getSchemaSubSchema(schema)]) \n                        ? _oVali.checkArray(object, _oVali.schemas[_oVali.getSchemaSubSchema(schema)], options)\n                        : _oVali.checkArray(object, _oVali.getSchemaSubSchema(schema), options))\n                    : _oVali.check(object, schema, options));\n        },\n\n        /**\n         * \n         * @public\n         * @param {*} object \n         * @param {*} schema \n         */\n        isValid: function (object, schema) {\n            return oVali.check(object, schema, {}).length == 0;\n        },\n\n        /**\n         * \n         * @public\n         * @param {*} object \n         * @param {*} schema \n         * @param {*} pattern \n         */\n        findPropertiesWithPattern: function (object, schema, pattern) {\n            return _oVali.findPropertiesWithPattern(object, schema, pattern);\n        },\n\n        /**\n         * \n         * @public\n         * @param {*} name \n         * @param {*} definition \n         */\n        addSchema: function (name, definition) { \n            return _oVali.addSchema(name, definition);\n        }\n    };\n\n    return oVali;\n\n}());\n\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = oVali;\n}\n\n},{}]},{},[1])\n(1)\n});"]}